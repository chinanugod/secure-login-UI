<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <img
        src="images/codecrackles-transparent.png"
        class="logo"
        alt="CodeCrackles Logo"
      />

            <!-- Global Menu -->
<div class="menu-container">
  <button id="menuToggle" class="menu-btn">‚ò∞</button>

  <div id="menuDropdown" class="menu-dropdown hidden">
    <a href="dashboard.html">Dashboard</a>
    <a href="profile.html">Profile</a>
    <a href="quiz.html">Quiz</a>
    <hr />
    <a href="blog.html" class="coming-soon"><strong>Blog</strong>(Coming Soon)</a>
  <hr />
        <a href="courses.html" class="coming-soon"><strong>Courses</strong>(Coming Soon)</a>
        <hr />  
        <a href="interview-prep.html" class="coming-soon"><strong>Interview Prep</strong>(Coming Soon)</a>
    <hr />
            <button id="menuLogout">Logout</button>
  </div>
    </header>

    <main id="dashboard">
      <section class="profile-summary">
        <img id="dash-avatar" src="default-avatar.png" alt="Profile picture" />
        <div id="profileSummary">
          <h1 id="dash-name">Welcome</h1>
          <p id="dash-stacks"></p>
          <a href="profile.html">Edit Profile</a>
        </div>
      </section>
       <div class="quiz-summary">
  <h2>Quiz Record</h2>
  <p id="quizScoreText">No quiz taken yet</p>
</div>
    </main>
    <br />
<hr />
<br />
    <div id="project-overview" class="project-overview">
      <h3>Project Overview</h3>
      <p>
        This is a frontend <strong>MVP</strong> built 
        with <strong>HTML</strong>, <strong>CSS</strong>, 
        and <strong>JavaScript</strong>. CodeCrackles features user authentication, 
        profile management, and an interactive quiz module.
It is one of the mini-projects I started to practice and 
showcase my frontend development skills while experimenting with real product flows. <strong>
        Your feedback and contributions are welcome!</strong>
      </p>
  <br />     
  <h4>üîê Security Focus</h4>
      <p>
User data is stored in the browser‚Äôs localStorage for simplicity and demonstration purposes.
This approach is not secure for production use.
Please avoid using real credentials ‚Äî use dummy emails and passwords instead.
Future iterations will focus on secure backend authentication and expanded functionality.
      </p>
      <br />
      <h4>üöÄ More Features Coming Soon</h4>
      <ul>
        <li>Blog Section</li>
        <li>Courses Module</li>
        <li>Interview Preparation Tools</li>
        <li>Enhanced Quiz Functionality</li>
        <li>Community Features</li>
        <li>Secure backend authentication</li>
      </ul>
    </div>

    <div>
      <footer>
        <p>¬© <i>2025 Nwaohangwa Chinanu.</i> All rights reserved.</p>
        <hr />
        <p>CodeCrackles is an evolving project. 
        This release focuses on core UX, 
        authentication flow, and interactive 
        learning.</p>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const user = JSON.parse(localStorage.getItem("loggedInUser"));

        if (!user) {
          window.location.href = "index.html";
          return;
        }

        const profileKey = "profile_" + user.email;
        const profile = JSON.parse(localStorage.getItem(profileKey)) || {};

        document.getElementById(
          "dash-name"
        ).textContent = `Welcome, ${user.fullname}`;

        const avatar = document.getElementById("dash-avatar");
        const stacks = document.getElementById("dash-stacks");

        if (profile.profilePic) {
          avatar.src = profile.profilePic;
        }

        if (profile.techStacks && profile.techStacks.length) {
          stacks.textContent =
            "Tech stacks: " + profile.techStacks.slice(0, 4).join(", ");
        } else {
          stacks.textContent = "No tech stacks added yet.";
        }

        // Quiz score display
const quizText = document.getElementById("quizScoreText");

if (user.quizScore !== undefined) {
  quizText.textContent = `Last score: ${user.quizScore}/50 (${user.lastQuizDate})`;
} else {
  quizText.textContent = "You haven‚Äôt taken a quiz yet.";
}

        document.getElementById("logoutBtn").addEventListener("click", () => {
          localStorage.removeItem("loggedInUser");
          window.location.href = "index.html";
        });
      });
    </script>
    <script src="scripts.js"></script>
  </body>
</html>
