<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <img
        src="images/codecrackles-transparent.png"
        class="logo"
        alt="CodeCrackles Logo"
      />
    </header>

    <main id="dashboard">
      <h1>Welcome to your Dashboard</h1
      <div id="userInfo"></div>
      <a href="profile.html">Go to Profile</a>
      <button id="logoutBtn">Logout</button>
    </main>

<script src="scripts.js" defer></script>
<script src="auth-local.js" defer></script>
<!-- dashboard script below -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  // Read logged-in user from localStorage
  const user = JSON.parse(localStorage.getItem("loggedInUser"));

  // If no user found â†’ redirect to login
  if (!user) {
    window.location.href = "index.html";
    return;
  }

  // Show user info
  const userInfo = document.getElementById("userInfo");
  userInfo.innerHTML = `
    <p>Hello, <strong>${user.fullname}</strong> (${user.email})</p>
  `;

  // Logout button
  document.getElementById("logoutBtn").addEventListener("click", () => {
    localStorage.removeItem("loggedInUser");
    window.location.href = "index.html";
  });
});
</script>

  </body>
</html>
